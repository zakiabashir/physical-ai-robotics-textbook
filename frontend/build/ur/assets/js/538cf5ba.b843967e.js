"use strict";(globalThis.webpackChunkphysical_ai_robotics_textbook=globalThis.webpackChunkphysical_ai_robotics_textbook||[]).push([[4692],{9889:(e,r,s)=>{s.r(r),s.d(r,{default:()=>a});var n=s(6540),t=s(4436),i=s(4335),o=s(4848);const d="http://localhost:8000/api/v1",a=()=>{const[e,r]=(0,n.useState)(null),[s,a]=(0,n.useState)(null),[l,c]=(0,n.useState)(null),[x,p]=(0,n.useState)(!0),[h,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{u();const e=setInterval(u,3e4);return()=>clearInterval(e)},[]);const u=async()=>{try{p(!0),g(null);const[e,s,n]=await Promise.all([i.A.get(`${d}/health/detailed`),i.A.get(`${d}/health/rag`),i.A.get(`${d}/ingestion/status`)]);r(e.data),a({rag:s.data,ingestion:n.data})}catch(e){g(e.response?.data?.detail||e.message)}finally{p(!1)}},m=e=>{switch(e){case"healthy":return"#52c41a";case"degraded":return"#faad14";case"unhealthy":return"#f5222d";case"needs_ingestion":return"#1890ff";case"slow":return"#fa8c16";default:return"#d9d9d9"}},j=e=>(0,o.jsx)("span",{style:{backgroundColor:m(e),color:"white",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase"},children:e});return x&&!e?(0,o.jsx)(t.A,{title:"RAG Monitor",children:(0,o.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,o.jsx)("div",{children:"Loading RAG monitoring data..."})})}):(0,o.jsx)(t.A,{title:"RAG System Monitor",children:(0,o.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,o.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,o.jsx)("h1",{children:"\ud83e\udd16 RAG System Monitor"}),(0,o.jsx)("p",{children:"Monitor the health and performance of the Retrieval-Augmented Generation system"})]}),h&&(0,o.jsxs)("div",{style:{backgroundColor:"#fff2f0",border:"1px solid #ffccc7",borderRadius:"4px",padding:"12px",marginBottom:"20px"},children:[(0,o.jsx)("strong",{children:"Error:"})," ",h]}),(0,o.jsxs)("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #bae7ff",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[(0,o.jsx)("h2",{children:"Overall System Status"}),e&&(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,o.jsx)("span",{children:"Status:"}),j(e.overall),(0,o.jsxs)("span",{style:{marginLeft:"20px",color:"#666"},children:["Last updated: ",new Date(1e3*e.timestamp).toLocaleString()]})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"#f6ffed",border:"1px solid #b7eb8f",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[(0,o.jsx)("h2",{children:"Component Health"}),e?.components&&(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(e.components).map(([e,r])=>(0,o.jsxs)("div",{style:{backgroundColor:"white",border:`1px solid ${m(r.status)}`,borderRadius:"4px",padding:"15px"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 10px 0",textTransform:"capitalize"},children:e}),(0,o.jsx)("div",{children:j(r.status)}),r.error&&(0,o.jsxs)("div",{style:{color:"#f5222d",fontSize:"12px",marginTop:"5px"},children:["Error: ",r.error]}),r.collections&&(0,o.jsxs)("div",{style:{marginTop:"10px"},children:[(0,o.jsx)("strong",{children:"Collections:"})," ",r.collections.join(", ")]}),void 0!==r.total_documents&&(0,o.jsxs)("div",{style:{marginTop:"5px"},children:[(0,o.jsx)("strong",{children:"Documents:"})," ",r.total_documents.toLocaleString()]}),r.embedding_dimension&&(0,o.jsxs)("div",{style:{marginTop:"5px"},children:[(0,o.jsx)("strong",{children:"Embedding Dimension:"})," ",r.embedding_dimension]}),r.model&&(0,o.jsxs)("div",{style:{marginTop:"5px"},children:[(0,o.jsx)("strong",{children:"Model:"})," ",r.model]})]},e))})]}),s&&(0,o.jsxs)("div",{style:{backgroundColor:"#fff9e6",border:"1px solid #ffd666",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[(0,o.jsx)("h2",{children:"RAG Performance Metrics"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:[(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px"},children:[(0,o.jsx)("h4",{children:"\ud83d\udce5 Ingestion"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Status:"})," ",j(s.rag.ingestion.status)]}),void 0!==s.rag.ingestion.document_count&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Documents:"})," ",s.rag.ingestion.document_count.toLocaleString()]}),s.rag.ingestion.message&&(0,o.jsx)("p",{style:{color:"#666",fontSize:"14px"},children:s.rag.ingestion.message})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px"},children:[(0,o.jsx)("h4",{children:"\ud83d\udd0d Retrieval"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Status:"})," ",j(s.rag.retrieval.status)]}),s.rag.retrieval.query_time_ms&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Query Time:"})," ",s.rag.retrieval.query_time_ms,"ms"]}),s.rag.retrieval.avg_score&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Avg Score:"})," ",(100*s.rag.retrieval.avg_score).toFixed(1),"%"]}),s.rag.retrieval.warning&&(0,o.jsxs)("p",{style:{color:"#fa8c16",fontSize:"14px"},children:["\u26a0\ufe0f ",s.rag.retrieval.warning]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px"},children:[(0,o.jsx)("h4",{children:"\ud83d\udcac Generation"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Status:"})," ",j(s.rag.generation.status)]}),s.rag.generation.response_time_ms&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Response Time:"})," ",s.rag.generation.response_time_ms,"ms"]}),s.rag.generation.model&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Model:"})," ",s.rag.generation.model]}),s.rag.generation.warning&&(0,o.jsxs)("p",{style:{color:"#fa8c16",fontSize:"14px"},children:["\u26a0\ufe0f ",s.rag.generation.warning]})]})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"#f9f0ff",border:"1px solid #d3adf7",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[(0,o.jsx)("h2",{children:"System Tests"}),(0,o.jsx)("button",{onClick:async()=>{try{c(null);const e=await i.A.post(`${d}/health/ingestion/test`);c(e.data)}catch(e){c({overall:"failed",error:e.response?.data?.detail||e.message})}},disabled:x,style:{backgroundColor:"#1890ff",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:x?"not-allowed":"pointer",marginRight:"10px"},children:"Run Ingestion Pipeline Test"}),(0,o.jsx)("button",{onClick:u,disabled:x,style:{backgroundColor:"#52c41a",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:x?"not-allowed":"pointer"},children:"Refresh Data"}),l&&(0,o.jsxs)("div",{style:{marginTop:"20px",backgroundColor:"white",padding:"15px",borderRadius:"4px"},children:[(0,o.jsx)("h3",{children:"Test Results"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Overall:"})," ",j(l.overall)]}),l.tests&&(0,o.jsx)("div",{style:{marginTop:"10px"},children:Object.entries(l.tests).map(([e,r])=>(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsxs)("strong",{children:[e.replace("_"," "),":"]})," ",j(r.status),r.error&&(0,o.jsx)("span",{style:{color:"#f5222d",marginLeft:"10px"},children:r.error}),r.urls_found&&(0,o.jsxs)("span",{style:{marginLeft:"10px"},children:["URLs: ",r.urls_found]}),r.chars_extracted&&(0,o.jsxs)("span",{style:{marginLeft:"10px"},children:["Chars: ",r.chars_extracted.toLocaleString()]})]},e))})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"#f0f0f0",border:"1px solid #d9d9d9",borderRadius:"8px",padding:"20px"},children:[(0,o.jsx)("h2",{children:"API Endpoints"}),(0,o.jsxs)("ul",{style:{listStyle:"none",padding:0},children:[(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:`${d}/docs`,target:"_blank",rel:"noopener noreferrer",children:"\ud83d\udcda API Documentation"})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:`${d}/health`,target:"_blank",rel:"noopener noreferrer",children:"\ud83d\udc93 Basic Health"})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:`${d}/health/detailed`,target:"_blank",rel:"noopener noreferrer",children:"\ud83d\udcca Detailed Health"})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:`${d}/health/rag`,target:"_blank",rel:"noopener noreferrer",children:"\ud83e\udd16 RAG Health"})})]})]})]})})}}}]);