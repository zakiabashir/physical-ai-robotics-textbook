"use strict";(globalThis.webpackChunkphysical_ai_robotics_textbook=globalThis.webpackChunkphysical_ai_robotics_textbook||[]).push([[7640],{167:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"chapter-2/lesson-1","title":"Lesson 2.1: ROS 2 Fundamentals","description":"Understanding the Robot Operating System 2 architecture and core concepts","source":"@site/docs/chapter-2/lesson-1.mdx","sourceDirName":"chapter-2","slug":"/chapter-2/lesson-1","permalink":"/ur/docs/chapter-2/lesson-1","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai/physical-ai-robotics-textbook/tree/main/docs/chapter-2/lesson-1.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Lesson 2.1: ROS 2 Fundamentals","description":"Understanding the Robot Operating System 2 architecture and core concepts","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 1.3: Weekly Learning Plan (Weeks 1-2)","permalink":"/ur/docs/chapter-1/lesson-3"},"next":{"title":"Lesson 2.2: Simulation: Gazebo & Unity","permalink":"/ur/docs/chapter-2/lesson-2"}}');var i=s(4848),o=s(8453),a=s(2948);const t={title:"Lesson 2.1: ROS 2 Fundamentals",description:"Understanding the Robot Operating System 2 architecture and core concepts",sidebar_position:1},l="Lesson 2.1: ROS 2 Fundamentals",c={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction to ROS 2",id:"introduction-to-ros-2",level:2},{value:"Core ROS 2 Concepts",id:"core-ros-2-concepts",level:2},{value:"1. Nodes",id:"1-nodes",level:3},{value:"2. Topics",id:"2-topics",level:3},{value:"3. Services",id:"3-services",level:3},{value:"4. Actions",id:"4-actions",level:3},{value:"ROS 2 Communication Patterns",id:"ros-2-communication-patterns",level:2},{value:"Publisher-Subscriber Pattern",id:"publisher-subscriber-pattern",level:3},{value:"Request-Response Pattern",id:"request-response-pattern",level:3},{value:"Lab Exercise: Building a ROS 2 System",id:"lab-exercise-building-a-ros-2-system",level:2},{value:"Objective",id:"objective",level:3},{value:"Setup",id:"setup",level:3},{value:"Implementation",id:"implementation",level:3},{value:"Launch File",id:"launch-file",level:3},{value:"Running the System",id:"running-the-system",level:3},{value:"Expected Results",id:"expected-results",level:3},{value:"ROS 2 Tools",id:"ros-2-tools",level:2},{value:"1. Command Line Tools",id:"1-command-line-tools",level:3},{value:"2. RViz",id:"2-rviz",level:3},{value:"3. Gazebo Integration",id:"3-gazebo-integration",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Node Design",id:"1-node-design",level:3},{value:"2. Communication",id:"2-communication",level:3},{value:"3. Parameter Configuration",id:"3-parameter-configuration",level:3},{value:"4. Error Handling",id:"4-error-handling",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Summary",id:"summary",level:2},{value:"Quiz",id:"quiz",level:2}];function m(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{DiagramComponent:s,Quiz:r}=n;return s||p("DiagramComponent",!0),r||p("Quiz",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"lesson-21-ros-2-fundamentals",children:"Lesson 2.1: ROS 2 Fundamentals"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsxs)("div",{className:"learning-objectives",children:[(0,i.jsx)(n.p,{children:"After completing this lesson, you will be able to:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Explain the ROS 2 architecture and communication patterns"}),"\n",(0,i.jsx)(n.li,{children:"Create and manage ROS 2 nodes, topics, services, and actions"}),"\n",(0,i.jsx)(n.li,{children:"Launch and monitor ROS 2 systems"}),"\n",(0,i.jsx)(n.li,{children:"Write simple ROS 2 programs in Python"}),"\n",(0,i.jsx)(n.li,{children:"Use ROS 2 tools for debugging and visualization"}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"}),"\n",(0,i.jsx)(n.p,{children:"ROS (Robot Operating System) is a flexible framework for writing robot software. ROS 2 is the second major release, providing significant improvements over ROS 1 in terms of reliability, performance, and ease of use."}),"\n",(0,i.jsx)(s,{title:"ROS 2 Architecture Overview",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:'graph TB\n    subgraph "ROS 2 System"\n        A[Node 1<br/>Camera Driver] --\x3e F[DDS Layer]\n        B[Node 2<br/>Image Processor] --\x3e F\n        C[Node 3<br/>Controller] --\x3e F\n        F --\x3e G[Network Transport]\n        G --\x3e H[Other Devices]\n\n        subgraph "Communication"\n            I[Topics]\n            J[Services]\n            K[Actions]\n        end\n\n        F --\x3e I\n        F --\x3e J\n        F --\x3e K\n    end\n'})})}),"\n",(0,i.jsx)(n.h2,{id:"core-ros-2-concepts",children:"Core ROS 2 Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"1-nodes",children:"1. Nodes"}),"\n",(0,i.jsx)(n.p,{children:"Nodes are the smallest executable unit in ROS 2. Each node is responsible for a single process or functionality."}),"\n",(0,i.jsx)(a.A,{title:"Simple ROS 2 Node Example",language:"python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass HelloWorldNode(Node):\n    def __init__(self):\n        super().__init__('hello_world_node')\n\n        # Create a publisher\n        self.publisher_ = self.create_publisher(String, 'greeting', 10)\n\n        # Create a timer that fires every second\n        timer_period = 1.0\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.get_logger().info('Hello World node started')\n\n    def timer_callback(self):\n        \"\"\"Timer callback function\"\"\"\n        msg = String()\n        msg.data = f'Hello World! Count: {self.counter}' if hasattr(self, 'counter') else 'Hello World!'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: {msg.data}')\n\n        if hasattr(self, 'counter'):\n            self.counter += 1\n        else:\n            self.counter = 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = HelloWorldNode()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})})}),"\n",(0,i.jsx)(n.h3,{id:"2-topics",children:"2. Topics"}),"\n",(0,i.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages. They follow a publish-subscribe pattern."}),"\n",(0,i.jsx)(a.A,{title:"Publisher and Subscriber Example",language:"python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom geometry_msgs.msg import Twist\nfrom sensor_msgs.msg import LaserScan\n\nclass ControllerNode(Node):\n    def __init__(self):\n        super().__init__('controller_node')\n\n        # Publisher for robot velocity commands\n        self.cmd_vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)\n\n        # Subscriber for laser scan data\n        self.scan_sub = self.create_subscription(\n            LaserScan,\n            '/scan',\n            self.scan_callback,\n            10\n        )\n\n        self.get_logger().info('Controller node initialized')\n\n    def scan_callback(self, msg):\n        \"\"\"Process laser scan data\"\"\"\n        # Simple obstacle avoidance logic\n        front_clear = True\n        for i, distance in enumerate(msg.ranges):\n            if i < len(msg.ranges) // 3:  # Front sector\n                if distance < 1.0:  # Obstacle within 1 meter\n                    front_clear = False\n                    break\n\n        # Create velocity command\n        cmd_msg = Twist()\n\n        if front_clear:\n            cmd_msg.linear.x = 0.5  # Move forward\n            cmd_msg.angular.z = 0.0\n        else:\n            cmd_msg.linear.x = 0.0  # Stop\n            cmd_msg.angular.z = 0.5  # Turn left\n\n        self.cmd_vel_pub.publish(cmd_msg)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = ControllerNode()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})})}),"\n",(0,i.jsx)(n.h3,{id:"3-services",children:"3. Services"}),"\n",(0,i.jsx)(n.p,{children:"Services provide request/response communication. They're useful for one-time operations."}),"\n",(0,i.jsx)(a.A,{title:"Service Server Example",language:"python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import AddTwoInts\n\nclass MathService(Node):\n    def __init__(self):\n        super().__init__('math_service')\n\n        # Create service\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\n        self.get_logger().info('Math service started')\n\n    def add_two_ints_callback(self, request, response):\n        \"\"\"Service callback function\"\"\"\n        response.sum = request.a + request.b\n\n        self.get_logger().info(\n            f'Incoming request: a={request.a}, b={request.b}'\n        )\n        self.get_logger().info(f'Sending back response: [sum={response.sum}]')\n\n        return response\n\ndef main(args=None):\n    rclpy.init(args=args)\n    math_service = MathService()\n    rclpy.spin(math_service)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})})}),"\n",(0,i.jsx)(n.h3,{id:"4-actions",children:"4. Actions"}),"\n",(0,i.jsx)(n.p,{children:"Actions are long-running, preemptible services that provide feedback during execution."}),"\n",(0,i.jsx)(a.A,{title:"Action Server Example",language:"python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.action import ActionServer\nfrom action_msgs.msg import FibonacciFeedback, FibonacciResult\nfrom fibonacci_action.action import Fibonacci\n\nclass FibonacciActionServer(Node):\n    def __init__(self):\n        super().__init__('fibonacci_action_server')\n\n        # Create action server\n        self._action_server = ActionServer(\n            self,\n            'fibonacci',\n            Fibonacci,\n            self.execute_callback\n        )\n        self.get_logger().info('Fibonacci action server started')\n\n    def execute_callback(self, goal_handle):\n        \"\"\"Execute Fibonacci sequence\"\"\"\n        self.get_logger().info('Executing goal...')\n\n        # Get goal\n        goal = goal_handle.request\n        order = goal.order\n\n        # Create feedback and result messages\n        feedback_msg = FibonacciFeedback()\n        result = FibonacciResult()\n\n        # Initialize sequence\n        feedback_msg.partial_sequence = [0, 1]\n\n        for i in range(1, order):\n            if goal_handle.is_cancel_requested:\n                goal_handle.canceled()\n                result.success = False\n                self.get_logger().info('Goal canceled')\n                return result\n\n            # Calculate next Fibonacci number\n            feedback_msg.partial_sequence.append(\n                feedback_msg.partial_sequence[i-1] + feedback_msg.partial_sequence[i-2]\n            )\n\n            # Publish feedback\n            goal_handle.publish_feedback(feedback_msg)\n            self.get_logger().info(f'Feedback: {feedback_msg.partial_sequence}')\n\n            # Simulate work\n            rclpy.sleep(0.1)\n\n        # Set result\n        result.sequence = feedback_msg.partial_sequence\n        result.success = True\n\n        goal_handle.succeed(result)\n        self.get_logger.info(f'Goal succeeded: sequence={result.sequence}')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    fibonacci_action_server = FibonacciActionServer()\n    rclpy.spin(fibonacci_action_server)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})})}),"\n",(0,i.jsx)(n.h2,{id:"ros-2-communication-patterns",children:"ROS 2 Communication Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"publisher-subscriber-pattern",children:"Publisher-Subscriber Pattern"}),"\n",(0,i.jsx)(n.p,{children:"The most common communication pattern in ROS 2:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Node A"})," publishes messages to a topic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Node B"})," subscribes to that topic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"DDS"})," handles message delivery"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Multiple nodes"})," can subscribe or publish to the same topic"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"request-response-pattern",children:"Request-Response Pattern"}),"\n",(0,i.jsx)(n.p,{children:"For synchronous operations:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Client Node"})," sends request to service"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Service Node"})," processes request"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Service Node"})," sends response back"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Client Node"})," receives response"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"lab-exercise-building-a-ros-2-system",children:"Lab Exercise: Building a ROS 2 System"}),"\n",(0,i.jsxs)("div",{className:"lab-exercise",children:[(0,i.jsx)(n.h3,{id:"objective",children:"Objective"}),(0,i.jsx)(n.p,{children:"Create a complete ROS 2 system with multiple nodes demonstrating different communication patterns."}),(0,i.jsx)(n.h3,{id:"setup",children:"Setup"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create a workspace"}),"\n",(0,i.jsx)(n.li,{children:"Implement nodes for different functionalities"}),"\n",(0,i.jsx)(n.li,{children:"Launch and test the system"}),"\n"]}),(0,i.jsx)(n.h3,{id:"implementation",children:"Implementation"}),(0,i.jsx)(a.A,{language:"python",title:"ROS 2 Robot Controller",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# First, save this as publisher.py\n#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom geometry_msgs.msg import Twist\nfrom sensor_msgs.msg import LaserScan\nimport math\n\nclass RobotController(Node):\n    def __init__(self):\n        super().__init__('robot_controller')\n\n        # Publishers\n        self.cmd_vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)\n        self.sensor_pub = self.create_publisher(LaserScan, '/scan', 10)\n\n        # Timer for publishing sensor data\n        self.timer = self.create_timer(0.1, self.publish_sensor_data)\n        self.get_logger().info('Robot controller started')\n\n    def publish_sensor_data(self):\n        \"\"\"Publish simulated sensor data\"\"\"\n        scan_msg = LaserScan()\n\n        # Header\n        scan_msg.header.stamp = self.get_clock().now().to_msg()\n        scan_msg.header.frame_id = 'laser'\n\n        # Scan parameters\n        scan_msg.angle_min = -math.pi\n        scan_msg.angle_max = math.pi\n        scan_msg.angle_increment = math.pi / 180\n        scan_msg.time_increment = 1.0 / 30 / 360\n        scan_msg.scan_time = 1.0 / 30\n        scan_msg.range_min = 0.1\n        scan_msg.range_max = 10.0\n\n        # Generate scan data (simulate a wall ahead)\n        num_readings = 360\n        ranges = []\n\n        for i in range(num_readings):\n            angle = -math.pi + i * scan_msg.angle_increment\n\n            # Simulate a wall at 2 meters straight ahead\n            if -0.2 < angle < 0.2:  # Wall in front\n                distance = 2.0 + 0.1 * math.sin(10 * angle)\n            else:\n                distance = 5.0  # Open space\n\n            ranges.append(distance)\n\n        scan_msg.ranges = ranges\n        self.sensor_pub.publish(scan_msg)\n\n# Save this as subscriber.py\n#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import LaserScan\nfrom geometry_msgs.msg import Twist\n\nclass RobotObserver(Node):\n    def __init__(self):\n        super().__init__('robot_observer')\n\n        # Subscriber\n        self.scan_sub = self.create_subscription(\n            LaserScan,\n            '/scan',\n            self.scan_callback,\n            10\n        )\n\n        self.get_logger().info('Robot observer started')\n\n    def scan_callback(self, msg):\n        \"\"\"Process laser scan data\"\"\"\n        # Analyze the scan\n        front_distances = msg.ranges[160:200]  # Front 40 degrees\n\n        if front_distances:\n            min_distance = min(front_distances)\n            self.get_logger().info(f'Min distance ahead: {min_distance:.2f}m')\n\n# Save this as service_server.py\n#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom std_srvs.srv import SetBool\nfrom geometry_msgs.msg import Twist\nimport threading\n\nclass RobotService(Node):\n    def __init__(self):\n        super().__init__('robot_service')\n\n        # Create service and publisher\n        self.srv = self.create_service(SetBool, 'set_movement', self.set_movement_callback)\n        self.cmd_vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)\n\n        # Movement state\n        self.movement_enabled = False\n        self.movement_thread = None\n\n        self.get_logger().info('Robot service started')\n\n    def set_movement_callback(self, request, response):\n        \"\"\"Service callback for enabling/disabling movement\"\"\"\n        self.movement_enabled = request.data\n\n        if self.movement_enabled:\n            self.movement_thread = threading.Thread(target=self.movement_loop)\n            self.movement_thread.start()\n            response.success = True\n            response.message = \"Movement enabled\"\n        else:\n            response.success = True\n            response.message = \"Movement disabled\"\n\n        self.get_logger().info(f'Movement {self.movement_enabled}: {response.message}')\n        return response\n\n    def movement_loop(self):\n        \"\"\"Continuous movement loop\"\"\"\n        rate = self.create_rate(10)  # 10 Hz\n\n        while self.movement_enabled and rclpy.ok():\n            msg = Twist()\n            msg.linear.x = 0.5  # Move forward\n            msg.angular.z = 0.1  # Slight turn\n            self.cmd_vel_pub.publish(msg)\n            rate.sleep()\n"})})}),(0,i.jsx)(n.h3,{id:"launch-file",children:"Launch File"}),(0,i.jsx)(a.A,{title:"ROS 2 Launch File",language:"python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Save as robot_system.launch.py\nimport os\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom ament_index_python.packages import get_package_share_directory\n\ndef generate_launch_description():\n    ld = LaunchDescription()\n\n    # Robot controller node\n    controller_node = Node(\n        package='physical_ai_textbook',\n        executable='robot_controller',\n        name='controller',\n        output='screen'\n    )\n\n    # Observer node\n    observer_node = Node(\n        package='physical_ai_textbook',\n        executable='robot_observer',\n        name='observer',\n        output='screen'\n    )\n\n    # Service node\n    service_node = Node(\n        package='physical_ai_textbook',\n        executable='robot_service',\n        name='service',\n        output='screen'\n    )\n\n    ld.add_action(controller_node)\n    ld.add_action(observer_node)\n    ld.add_action(service_node)\n\n    return ld\n\ndef main(args=None):\n    generate_launch_description()\n\nif __name__ == '__main__':\n    main()\n"})})}),(0,i.jsx)(n.h3,{id:"running-the-system",children:"Running the System"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Build the package"}),":"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build --packages-select physical_ai_textbook\n"})}),(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Source the workspace"}),":"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash\n"})}),(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Launch the system"}),":"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 launch physical_ai_textbook robot_system.launch.py\n"})}),(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test the service"}),":"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ros2 service call /set_movement "data: true"\n'})}),(0,i.jsx)(n.h3,{id:"expected-results",children:"Expected Results"}),(0,i.jsx)(n.p,{children:"The system should demonstrate:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Multiple nodes communicating"}),"\n",(0,i.jsx)(n.li,{children:"Publisher-subscriber pattern for sensor data"}),"\n",(0,i.jsx)(n.li,{children:"Service for enabling/disabling movement"}),"\n",(0,i.jsx)(n.li,{children:"Visualization in RViz"}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"ros-2-tools",children:"ROS 2 Tools"}),"\n",(0,i.jsx)(n.h3,{id:"1-command-line-tools",children:"1. Command Line Tools"}),"\n",(0,i.jsx)(a.A,{title:"Essential ROS 2 Commands",language:"bash",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Node management\nros2 node list\nros2 info /robot_controller\nros2 node info /robot_controller --verbose\n\n# Topic management\nros2 topic list\nros2 topic echo /cmd_vel\nros2 topic hz /cmd_vel\nros2 topic type /scan\n\n# Service management\nros2 service list\nros2 service call /add_two_ints "{a: 5, b: 3}"\nros2 service type /set_movement\n\n# Action management\nros2 action list\nros2 action send /fibonacci "{order: 10}"\nros2 action info /fibonacci\n\n# Parameter management\nros2 param list\nros2 param get /robot_controller\nros2 param set /robot_controller use_sim_time true\n'})})}),"\n",(0,i.jsx)(n.h3,{id:"2-rviz",children:"2. RViz"}),"\n",(0,i.jsx)(n.p,{children:"RViz is the main visualization tool for ROS 2."}),"\n",(0,i.jsx)(a.A,{title:"RViz Configuration",language:"yaml",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# Save as robot_config.rviz\nPanels:\n  - Class: rviz_common/Displays\n    Name: Displays\n    Help Height: 70\n\nVisualization Manager:\n  Class: rviz_common/VisualizationManager\n  Displays:\n    - Class: rviz_default_plugins/RobotModel\n      Name: RobotModel\n      Robot Description: "$(find your_robot_description_package)/urdf/robot.urdf"\n      Enabled: true\n\n    - Class: rviz_default_plugins/LaserScan\n      Name: LaserScan\n      Topic: /scan\n      Color: 255;255;255\n      Size (Pixels): 120\n      Style: Flat\n      Use rainbow: false\n      Autocompute Intensity: true\n      Color Transformer: IntensityToRGBField\n\n    - Class: rviz_default_plugins/TF\n      Name: TF\n      Enabled: true\n      Marker Scale: 1\n'})})}),"\n",(0,i.jsx)(n.h3,{id:"3-gazebo-integration",children:"3. Gazebo Integration"}),"\n",(0,i.jsx)(a.A,{title:"Gazebo Launch with ROS 2",language:"python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Save as gazebo_robot.py\nimport os\nfrom launch import LaunchDescription\nfrom launch_ros.actions import ExecuteProcess, Node\nfrom ament_index_python.packages import get_package_share_directory\n\ndef generate_launch_description():\n    ld = LaunchDescription()\n\n    # Gazebo\n    gazebo_executable = os.path.join(\n        get_package_share_directory('gazebo_ros'),\n        'gazebo'\n    )\n\n    gazebo_process = ExecuteProcess(\n        cmd=[gazebo_executable],\n        arguments=[\n            '--verbose',\n            '-s', 'empty_world.sdf'\n        ],\n        output='screen'\n    )\n\n    # ROS 2 Gazebo bridge\n    gazebo_ros = Node(\n        package='gazebo_ros',\n        executable='gazebo_ros',\n        arguments=[\n            '-dom', 'entity',\n            'entity_name', 'robot',\n            'publish_robot_state', 'true'\n        ],\n        output='screen'\n    )\n\n    ld.add_action(gazebo_process)\n    ld.add_action(gazebo_ros)\n\n    return ld\n\ndef main(args=None):\n    generate_launch_description()\n\nif __name__ == '__main__':\n    main()\n"})})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-node-design",children:"1. Node Design"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Single Responsibility Principle"}),"\n",(0,i.jsx)(n.li,{children:"Keep nodes focused on one task"}),"\n",(0,i.jsx)(n.li,{children:"Use meaningful node names"}),"\n",(0,i.jsx)(n.li,{children:"Handle shutdown gracefully"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-communication",children:"2. Communication"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use appropriate QoS settings"}),"\n",(0,i.jsx)(n.li,{children:"Design clear message types"}),"\n",(0,i.jsx)(n.li,{children:"Handle disconnections gracefully"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-parameter-configuration",children:"3. Parameter Configuration"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use parameter files"}),"\n",(0,i.jsx)(n.li,{children:"Document all parameters"}),"\n",(0,i.jsx)(n.li,{children:"Provide default values"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-error-handling",children:"4. Error Handling"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Try-catch critical sections"}),"\n",(0,i.jsx)(n.li,{children:"Log errors appropriately"}),"\n",(0,i.jsx)(n.li,{children:"Provide meaningful error messages"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ROS 2 provides a complete robotics framework"})," with communication, visualization, and simulation tools"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Communication patterns"})," include publish-subscribe, request-response, and action servers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodes are the building blocks"})," of ROS 2 systems"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tools like RViz and Gazebo"})," are essential for visualization and simulation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Proper ROS 2 design"})," leads to robust and maintainable robot software"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 provides a powerful framework for building complex robotic systems. By understanding its core concepts and communication patterns, you can create sophisticated robot applications that can perceive, decide, and act in the physical world."}),"\n",(0,i.jsxs)(n.p,{children:["In the next lesson, we'll explore ",(0,i.jsx)(n.strong,{children:"simulation environments"})," using Gazebo and Unity, allowing us to test our algorithms before deploying on real hardware."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"lesson-2",children:"Next: Simulation: Gazebo & Unity \u2192"})}),"\n",(0,i.jsx)(n.h2,{id:"quiz",children:"Quiz"}),"\n",(0,i.jsx)(r,{quizId:"ros2-fundamentals",questions:[{id:"q1",type:"multiple-choice",question:"What is the primary communication pattern in ROS 2?",options:["RPC (Remote Procedure Call)","Publish-Subscribe","Direct Function Calls","Shared Memory"],correct:1,explanation:"The publish-subscribe pattern is the primary communication mechanism in ROS 2, allowing asynchronous data flow between nodes."},{id:"q2",type:"multiple-choice",question:"Which component handles message delivery in ROS 2?",options:["ROS Master","Node Manager","DDS (Data Distribution Service)","Message Broker"],correct:2,explanation:"ROS 2 uses DDS (Data Distribution Service) for message delivery, replacing the single point of failure ROS Master from ROS 1."},{id:"q3",type:"true-false",question:"Actions in ROS 2 are a type of service that provides immediate responses.",correct:!1,explanation:"Actions are different from services - they support long-running, preemptible operations with continuous feedback, unlike services which provide immediate request-response communication."}]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var r=s(6540);const i={},o=r.createContext(i);function a(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);